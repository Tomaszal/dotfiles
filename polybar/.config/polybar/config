[vars]

margin = 2

[colors]

background = #CC212121
background-alt = #4F5B66

foreground = #F3F4F5
foreground-alt = #70F3F4F5

red = #E57373
green = #A6BC69
blue = #6699CC

[bar/bottom]

width = 100%
height = 40
bottom = true

background = ${colors.background}
foreground = ${colors.foreground}

line-size = 3

font-0 = Fira Mono:size=9
font-1 = Font Awesome:size=9

modules-left = powermenu bspwm
modules-center = xwindow
modules-right = battery backlight music volume xkeyboard-layout xkeyboard-indicator date

wm-restack = bspwm

scroll-up = bspwm-desknext
scroll-down = bspwm-deskprev

[module/bspwm]

type = internal/bspwm

enable-scroll = false

ws-icon-0 = 1;
# ws-icon-1 = 2;
ws-icon-1 = 2;
ws-icon-default = 

label-focused = %icon%
label-focused-padding = ${vars.margin}
label-focused-background = ${colors.background-alt}
label-focused-underline = ${colors.foreground}

label-occupied = %icon%
label-occupied-padding = ${vars.margin}

label-urgent = %icon%
label-urgent-padding = ${vars.margin}
label-urgent-foreground = ${colors.red}

label-empty = %icon%
label-empty-padding = ${vars.margin}
label-empty-foreground = ${colors.foreground-alt}

[module/xwindow]

type = internal/xwindow

label = %title:0:50:...%
label-underline = ${colors.foreground}
label-padding = ${vars.margin}

[module/powermenu]

type = custom/menu

label-open = 
label-open-padding = ${vars.margin}
label-open-underline = ${colors.red}

label-close = 
label-close-padding = ${vars.margin}
label-close-background = ${colors.background-alt}
label-close-underline = ${colors.foreground}

menu-0-0 = 
menu-0-0-padding = ${vars.margin}
menu-0-0-background = ${colors.background-alt}
menu-0-0-underline = ${colors.red}
menu-0-0-exec = systemctl poweroff

menu-0-1 = 
menu-0-1-padding = ${vars.margin}
menu-0-1-background = ${colors.background-alt}
menu-0-1-underline = ${colors.green}
menu-0-1-exec = systemctl reboot

menu-0-2 = 
menu-0-2-padding = ${vars.margin}
menu-0-2-background = ${colors.background-alt}
menu-0-2-underline = ${colors.blue}
menu-0-2-exec = systemctl suspend

format = <menu><label-toggle>

[module/backlight]

type = internal/xbacklight

output = eDP1

enable-scroll = false

bar-width = 10
bar-indicator = 
bar-fill = 
bar-empty = 

format =   <bar>
format-padding = ${vars.margin}

[module/battery]

type = internal/battery

battery = BAT1
adapter = ACAD

poll-interval = 5
full-at = 99

time-format = %H:%M

ramp-capacity-0 = 
ramp-capacity-1 = 
ramp-capacity-2 = 
ramp-capacity-3 = 
ramp-capacity-4 = 

label-charging = %percentage%% (%time%)
label-discharging = %percentage%% (%time%)

format-charging =    <label-charging>
format-discharging = <ramp-capacity>  <label-discharging>
format-padding = ${vars.margin}

[module/date]

type = internal/date

date = %F
time = %R

label = %date% %time%

format =   <label>
format-padding = ${vars.margin}

[module/xkeyboard-layout]

type = internal/xkeyboard

label-layout = %name%

format =   <label-layout>
format-padding = ${vars.margin}

[module/xkeyboard-indicator]

type = internal/xkeyboard

blacklist-0 = num lock
blacklist-1 = scroll lock

format = <label-indicator>
format-padding = ${vars.margin}
format-background = ${colors.background-alt}
format-underline = ${colors.red}

[module/volume]

type = custom/script

tail = true

label = %output%

format = <label>
format-padding = ${vars.margin}

exec = ~/.config/scripts/volume.sh --output listen bar

click-left = ~/.config/scripts/volume.sh --mute toggle

scroll-up = ~/.config/scripts/volume.sh --volume +5
scroll-down = ~/.config/scripts/volume.sh --volume -5

[module/music]

type = custom/script

interval = 1

label = %output%

format =   <label>
format-padding = ${vars.margin}

exec = xdotool search --classname "open.spotify.com" getwindowname

click-left = xdotool search --classname "open.spotify.com" key "alt+k"

[settings]

screenchange-reload = true
